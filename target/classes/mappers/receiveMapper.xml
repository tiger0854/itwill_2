<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.ddosirak.mapper.receiveMapper">

	<!-- 수주 등록 -->
	<insert id="receiveInsert" >
		insert into receive(re_code, item_code, customer_code, re_date, employee_id, re_qty) 
		select concat('REC', replace(current_date(), '-', ''), nullif(max(rec_id)+1, 1)),#{item_code},#{customer_code},#{re_date},#{employee_id},#{re_qty}	
		from receive
	</insert>
	<!-- 수주 등록 -->
	
	<!-- 수주 목록 -->
	<select id="receiveList" resultType="com.ddosirak.domain.ReceiveVO">
		select *
		from receive
	</select>
	<!-- 수주 목록 -->
  
  
  </mapper>